/* DCRLite v1.0.0.22*/ (function(){
'use strict';(function(b){try{b.NOLLite=b.NOLLite||{}}catch(h){"undefined"!==typeof console&&console&&console.warn&&console.warn("Error initializing NOL SDK")}})(window);
window.NOLLite.Common=window.NOLLite.Common||function(){var b={};try{(function(b){b.Config=b.Config||function(){var b={sdkVersion:"bj.5.1.5",buildVersion:"1.0.0.22",domain:"imrworldwide.com",sfcode:"us",lsHTMLUrl:"novms/html/ls.html",tagParamPrefix:"nol_",scriptName:"nlsDcrLite510",monitorInterval:1E3,reporterInterval:3E5,validationInterval:1E3,intervalThreshold:9E4,durationThreshold:2E4,reporterIntervalThreshold:{min:30,max:300},requiredParams:"nol_sfcode nol_ci nol_apid nol_assetname nol_apn nol_vc".split(" ")};
b.endpoints={staticPing:{route:"/cgi-bin/gn",params:{prd:{type:"static",value:"dcr",encLvl:0},st:{type:"static",value:"dcr",encLvl:0},at:{type:"dynamic",value:"{{at}}",encLvl:0},rt:{type:"static",value:"text",encLvl:0},forward:{type:"static",value:"0",encLvl:0},sup:{type:"static",value:'|!nol_sup||"0"!|',encLvl:0},ad:{type:"static",value:'|!nol_ad||"0"!|',encLvl:0},asn:{type:"static",value:"|!nol_assetname!|",encLvl:1},ci:{type:"static",value:"|!nol_ci!|",encLvl:0},cr:{type:"dynamic",value:"{{cr}}",
encLvl:0},c6:{type:"static",value:"vc,|!nol_vc!|",encLvl:0},c9:{type:"static",value:"devid,|!nol_devid!|",encLvl:0},c11:{type:"static",value:'agg,|!nol_agg||"1"!|',encLvl:0},c12:{type:"static",value:"apv,|!nol_apv!|",encLvl:0},c13:{type:"static",value:"asid,|!nol_apid!|",encLvl:0},c15:{type:"static",value:"apn,|!nol_apn!|",encLvl:0},c16:{type:"static",value:"sdkv,"+b.sdkVersion,encLvl:0},c26:{type:"static",value:'dmap,|!nol_dmap||"1"!|',encLvl:0},c27:{type:"dynamic",value:"cln,{{cln}}",encLvl:0},
c29:{type:"static",value:"plid,"+(Date.now?Date.now():(new Date).getTime())+Math.round(1E4*Math.random()).toString(),encLvl:0},c30:{type:"static",value:"bldv,"+b.buildVersion,encLvl:0},c32:{type:"static",value:'segA,|!nol_segA||"NA"!|',encLvl:1},c33:{type:"static",value:'segB,|!nol_segB||"NA"!|',encLvl:1},c34:{type:"static",value:'segC,|!nol_segC||"NA"!|',encLvl:1},c36:{type:"static",value:"cref1,|!nol_cref1!|",removeIfEmpty:!0,encLvl:0},c37:{type:"static",value:"cref2,|!nol_cref2!|",removeIfEmpty:!0,
encLvl:0},uoo:{type:"dynamic",value:"{{optout}}",removeIfEmpty:!0,encLvl:0}}}};return b}();b.Util=b.Util||function(){var g={parseNOLParams:function(a){var c={},e=b.Config.tagParamPrefix;if(!a)return c;a=a.replace(new RegExp("&"+e,"gi"),"<<nol_delimeter>>"+e);a=a.split("<<nol_delimeter>>");for(e=0;e<a.length;e++){var f=a[e].indexOf("=");var d=unescape(a[e].substr(0,f));f=unescape(a[e].substr(f+1));f=f.replace(/\+/g," ");c[d]=f}return c},parseQuery:function(a){var c={};if(!a)return c;a=a.split(/[;&]/);
for(var b=0;b<a.length;b++){var f=a[b].split("=");if(f&&2==f.length){var d=unescape(f[0]);f=unescape(f[1]);f=f.replace(/\+/g," ");c[d]=f}}return c},toQuery:function(a){if(a){var c=[],b;for(b in a)c.push(b+"="+a[b]);return c.join("&")}return""},timeStamp:function(){try{return(new Date).toISOString()}catch(a){return(new Date).toString()}},log:function(a,c){window.NOLLite.debug&&"undefined"!==typeof console&&console&&console.log&&(void 0!==c&&null!==c?console.log(g.timeStamp()+" LOG: "+a,c):console.log(g.timeStamp()+
" LOG: "+a))},debug:function(a,c){window.NOLLite.debug&&"undefined"!==typeof console&&console&&console.debug&&(void 0!==c&&null!==c?console.debug(g.timeStamp()+" DEBUG: "+a,c):console.debug(g.timeStamp()+" DEBUG: "+a))},warn:function(a,c){window.NOLLite.debug&&"undefined"!==typeof console&&console&&console.warn&&(void 0!==c&&null!==c?console.warn(g.timeStamp()+" WARN: "+a,c):console.warn(g.timeStamp()+" WARN: "+a))},error:function(a,c){window.NOLLite.debug&&"undefined"!==typeof console&&console&&
console.error&&(void 0!==c&&null!==c?console.error(g.timeStamp()+" ERROR: "+a,c):console.error(g.timeStamp()+" ERROR: "+a))},parseExp:function(a,c){var b="";a&&(b=/".*?"/gi.test(a)?a.replace(/"/gi,""):c&&void 0!==c[a]?c[a]:"");return b},urlEncode:function(a,c){if(c&&0<c)for(;c--;)a=encodeURIComponent(a).replace("'","%27");return a},evalStaticValue:function(a,c,b){var e="";if(a&&a.value&&c){e=a.value;var d=e.match(/\|!.*?!\|/ig);if(d){var k=d[0].replace("|!","").replace("!|",""),l=null,h=k.split("||");
if(h&&1<h.length){if(h){k=0;for(var n=h.length;k<n&&!(l=g.parseExp(h[k],c))&&k!=n-1;k+=1);}}else l=g.parseExp(k,c);l=g.urlEncode(l,-1<b?b:a.encLvl);if(""===l&&a.removeIfEmpty)return"";e=e.replace(d[0],l)}}return e},evalDynamicValue:function(a,c,b){var e="";if(a&&a.value&&c){var d=a.value.match(/{{.*?}}/ig);e=a.value;if(d)for(var k,l=d.length;l--;)k=c[d[l].replace("{{","").replace("}}","")],e=e.replace(d[l],void 0!==k&&null!==k?k:"")}return e=g.urlEncode(e,-1<b?b:a.encLvl)},evalDynamicParams:function(a,
c,b,d){if(a&&c&&b){var e=[];if(c.params){var f,l;for(l in c.params)if((f=c.params[l])&&"dynamic"===f.type){var h=g.evalDynamicValue(f,b,d);f.removeIfEmpty&&""===h||e.push(l+"="+h)}}return a+"&"+e.join("&")}return a},generateEndpoint:function(a,c,b){if(a&&a.route){var e=a.route+"?",d=[];if(a.params){var k,l;for(l in a.params)(k=a.params[l])&&"static"===k.type&&(k=g.evalStaticValue(k,c,b),void 0!==k&&null!==k&&""!==k&&d.push(l+"="+k))}return e+d.join("&")}return""},endpointProtocol:function(){return d.isSecure?
"https://":"http://"},getTimestamp:function(){return Date.now&&"function"===typeof Date.now?Date.now():(new Date).getTime()}},d={state:{ready:!1,focused:!1},get isSecure(){return"https:"===window.location.protocol},get isMobile(){var a=!1;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,
4)))a=!0;return a},globalHasFocus:function(){var a=!1;if(window.top!=window.self)return!1;d.checkUserAgent("(?=.*macintosh)(?=.*chrome).*")&&(d.addEventListener({element:window.top,eventType:"focus",func:function(){d.state.focused="undefined"===typeof window.top.document.webkitHidden||window.top.document.webkitHidden?!1:!0},useCapture:!1}),d.addEventListener({element:window.top,eventType:"blur",func:function(){d.state.focused=!1},useCapture:!1}),a=d.state.focused);try{a=window.top.document.hasFocus&&
"function"===typeof window.top.document.hasFocus?window.top.document.hasFocus():d.state.focused}catch(c){a=d.state.focused}return a},hidden:function(){var a="hidden",c=["webkit","moz","ms","o"];if(!("hidden"in document))for(var b=0;b<c.length;b++)c[b]+"Hidden"in document&&(a=c[b]+"Hidden");return document[a]},isVisible:function(){var a=d.hidden();return null===a?(g.debug("document.hidden not supported, checking hasFocus()",d.globalHasFocus()),d.globalHasFocus()):!a},ready:function(a){function c(){d.removeEventListener({element:document,
eventType:"DOMContentLoaded",func:c});d.removeEventListener({element:window,eventType:"load",func:c});!d.state.ready&&a&&(d.state.ready=!0,a())}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(c):(d.addEventListener({element:document,eventType:"DOMContentLoaded",func:c}),d.addEventListener({element:window,eventType:"load",func:c}))},addEventListener:function(a){try{"undefined"!==typeof a.element&&(a.element.addEventListener?a.element.addEventListener(a.eventType,
a.func,a.useCapture):a.element.attachEvent&&a.element.attachEvent("on"+a.eventType,a.func))}catch(c){}},removeEventListener:function(a){try{void 0!=a&&null!=a&&null!=a.element&&void 0!=a.element&&(a.element.removeEventListener?a.element.removeEventListener(a.eventType,a.func,a.useCapture):a.element.detachEvent&&a.element.detachEvent("on"+a.eventType,a.func))}catch(c){}},checkUserAgent:function(a){var c=window?window.navigator.userAgent.toLowerCase():null;void 0!==a&&0<a.length&&(c=-1!==c.search(a)?
!0:!1);return c}};return{parseQuery:g.parseQuery,parseNOLParams:g.parseNOLParams,toQuery:g.toQuery,log:g.log,debug:g.debug,warn:g.warn,error:g.error,urlEncode:g.urlEncode,getTimestamp:g.getTimestamp,browser:{isMobile:d.isMobile,ready:d.ready,addEventListener:d.addEventListener,removeEventListener:d.removeEventListener,checkUserAgent:d.checkUserAgent,hasFocus:d.globalHasFocus,isVisible:d.isVisible},endpoint:{generate:g.generateEndpoint,protocol:g.endpointProtocol,evalDynamicParams:g.evalDynamicParams}}}();
b.Request=b.Request||function(g){var d={ping:function(a,c,e,f,h){if(a){e=e||{};h=h||1;if(void 0===e.maxRetry||null===e.maxRetry||0>e.maxRetry)e.maxRetry=1;c&&(a+=(-1==a.indexOf("?")?"?":"")+g.toQuery(c));e.cache||(a+=(-1===a.indexOf("?")?"?":"")+"&rnd="+Math.round(1E6*Math.random()));b.Util.debug("Sending ping - try "+h+" - "+a,e);var k=new Image;k.onerror=function(b){h<e.maxRetry?setTimeout(function(){d.ping(a,c,e,f,++h)},500):f&&f("error")};k.onload=function(a){f&&f(null,a)};k.src=a}},sendBeacon:function(a){navigator.sendBeacon&&
"function"==typeof navigator.sendBeacon?(navigator.sendBeacon(a),b.Util.debug("Sending beacon - "+a)):d.ping(a,null,{cache:!1},null,null)}};return{ping:d.ping,sendBeacon:d.sendBeacon}}(b.Util)})(b)}catch(h){"undefined"!==typeof console&&console&&console.warn&&console.error("Error loading Common module",h.trace)}return b}();
window.NOLLite.Models=window.NOLLite.Models||function(b){var h={};try{(function(g){var d=function(a,c,b){this._id=a;this._url=c;this._content="";this._handle=null;this._initialize(b)};d.prototype._initialize=function(a){var c=this;try{this._handle=window.document.createElement("iframe"),this._handle.src=this._url,this._handle.height=0,this._handle.width=0,this._handle.style.display="none",this._handle.id=this._id,window.document.body.appendChild(this._handle),this._handle.onload=function(){a&&a(null,
c)}}catch(e){this._handle=null,a&&a(e)}};d.prototype.sendMessage=function(a,c){this._handle&&c&&this._handle.contentWindow&&this._handle.contentWindow.postMessage&&"function"===typeof this._handle.contentWindow.postMessage&&this._handle.contentWindow.postMessage(JSON.stringify({eventType:a,data:c}),this._url)};g.MessageFrame=d;d=function(a){this._name=a||"timer";this._duration=0;this._endTime=this._startTime=null;this._running=!1};d.prototype._calculateDelta=function(){if(this._startTime){this._endTime||
(this._endTime=this._getTimestamp());if(void 0===this._duration||null===this._duration)this._duration=0;var a=(this._endTime-this._startTime)/1E3;a&&(this._duration+=a)}};d.prototype._getTimestamp=function(){return Date.now&&"function"===typeof Date.now?Date.now():(new Date).getTime()};d.prototype.start=function(a,c){this._running||(this._startTime=c||this._getTimestamp(),this._endTime=null,a&&this.reset(),this._running=!0,b.Util.debug(this._name+" watch started"+(c?" at "+(new Date(c)).toString():
"")))};d.prototype.stop=function(a,c){this._running&&(this._endTime=c||this._getTimestamp(),this._calculateDelta(),a&&this.reset(),this._running=!1,b.Util.debug(this._name+" watch stopped"+(c?" at "+(new Date(c)).toString():"")))};d.prototype.reset=function(){this._duration=0;this._endTime=this._startTime=null;b.Util.debug(this._name+" watch reset")};d.prototype.restart=function(){this.reset();this._startTime=this._getTimestamp()};d.prototype.read=function(a){this._running&&this._calculateDelta();
var c=this._duration;a&&this.restart();return 0<=c?c:0};g.StopWatch=d;d=function(a,c){var e=this;this._name=c||"timer";this._interval=a;this._running=-1;this._ticker=null;this._tick=0;this._listeners=[];this._onTick=function(){e._tick+=e._interval;e._fireListeners();b.Util.debug(e._name+" timer tick:",e._tick)}};d.prototype._fireListeners=function(){for(var a,c=0,b=this._listeners.length;c<b;c+=1)(a=this._listeners[c])&&a.interval&&0==this._tick%a.interval&&a.callback&&a.callback(this._tick)};d.prototype._startTick=
function(){this._interval&&0<this._interval&&(this._ticker=setInterval(this._onTick,this._interval))};d.prototype._stopTick=function(){this._ticker&&clearInterval(this._ticker)};d.prototype.registerListener=function(a,c,b){this._listeners||(this._listeners=[]);this._listeners.push({name:a,interval:c,callback:b})};d.prototype.start=function(a){1!==this._running&&(a&&this.reset(),this._running=1,this._startTick(),b.Util.debug(this._name+" started"))};d.prototype.pause=function(){1===this._running&&
(this._running=0,this._stopTick(),b.Util.debug(this._name+" paused"))};d.prototype.stop=function(){-1<this._running&&(this._running=-1,this._stopTick(),this.reset(),b.Util.debug(this._name+" stopped and reset"))};d.prototype.reset=function(){this._tick=0;b.Util.debug(this._name+" reset")};g.Timer=d})(h)}catch(g){b.Util.error("Error loading NOLLite models",g)}return h}(window.NOLLite.Common);
window.NOLLite.Modules=window.NOLLite.Modules||function(b,h){var g={};try{(function(d){var a=function(a){var c=this;this._onBlur=function(){b.Util.debug("Blur event - not in focus");c.activeView=!1;c.monitor.stop()};this._onFocus=function(){b.Util.debug("Focus event - in focus");c.activeView=!0;c._checkLoaded(!0);c.monitor.start()};this._onUnload=function(a){c.loaded&&(c._durationEnabled&&(b.Util.debug("Processing unload ping"),c._firePing(!0,{at:"timer",cr:"D"},b.Util.browser.isMobile)),c._reset())};
this._onPageShow=function(){b.Util.debug("Pageshow event - in focus");!c.loaded&&b.Util.browser.isVisible()&&b.Util.browser.hasFocus()&&(c.activeView=!0,c.views=1,c._checkLoaded(!0),c.monitor.start())};this._onVisibilityChanged=function(){var a=b&&b.Util?b.Util.browser:null;a&&a.isVisible&&a.isVisible()?(b.Util.debug("Visibility changed - in focus"),c.activeView=!0,c._checkLoaded(!0),c.monitor.start()):(b.Util.debug("Visibility changed - not in focus"),c.activeView=!1,c.monitor.stop())};this._endpoint=
"";this.loaded=!1;this.views=0;this._args=a||{};this._maskPing="1"===this._args.nol_rfrmsk;this.activeView=!1;this._messageFrame={handle:null,ready:!1,queue:[]};this.forceView=!1;this._urlEncodeLevel=parseInt(this._args.nol_encLvl||-1,10);0<=this._urlEncodeLevel||(this._urlEncodeLevel=-1);this._optOut="1"===this._args.nol_uoo?"true":"";a=this._args&&this._args.nol_sfcode?this._args.nol_sfcode:b.Config.sfcode;this._domain=[b.Util.endpoint.protocol(),"secure-",a,".",b.Config.domain].join("");this._reportInterval=
b&&b.Config&&b.Config&&b.Config.reporterInterval?b.Config.reporterInterval:3E5;void 0!==this._args.nol_cadence&&null!==this._args.nol_cadence&&("off"===this._args.nol_cadence?this._reportInterval=0:isNaN(this._args.nol_cadence)||""===this._args.nol_cadence||(a=parseInt(this._args.nol_cadence,10),this._reportInterval=a<b.Config.reporterIntervalThreshold.min?1E3*b.Config.reporterIntervalThreshold.min:a>b.Config.reporterIntervalThreshold.max?1E3*b.Config.reporterIntervalThreshold.max:1E3*a));this._durationEnabled=
0<this._reportInterval;this.monitor=new h.StopWatch("duration");this.timer=new h.Timer(this._reportInterval,"heartbeat");this.intervalCheck={previousTimeStamp:b.Util.getTimestamp(),timer:new h.Timer(b.Config.validationInterval,"interval poll")};this._init()};a.prototype._init=function(){var a=this;if(this._maskPing){var d=[this._domain,b.Config.lsHTMLUrl].join("/");this._messageFrame.handle=new h.MessageFrame("maskFrame",d,function(){a._messageFrame.ready=!0;for(var c=a._messageFrame.queue.slice(0),
b=0,d=c.length;b<d;b+=1)a._maskedPing(c[b]);a._messageFrame.queue=[]})}this.timer.registerListener("reporter",this._reportInterval,function(){a.loaded&&a._firePing(!0,{at:"timer",cr:"D"},!1)});this.intervalCheck.timer.registerListener("IntervalPoll",b.Config.validationInterval,function(){var c=b.Util.getTimestamp();if(a.activeView){b.Util.debug("Interval threshold poll checking thresholds.");try{var d=Math.abs(c-a.intervalCheck.previousTimeStamp);d>b.Config.intervalThreshold&&(b.Util.debug("Interval check poll detected that time interval "+
d+" exceeded threshold of "+b.Config.intervalThreshold+". Time gap will be ignored."),b.Util.debug("Previous timestamp:",a.intervalCheck.previousTimeStamp),b.Util.debug("Current timestamp:",c),a.monitor.stop(!1,a.intervalCheck.previousTimeStamp),a.monitor.start(!1,c));b.Util.browser.hasFocus()&&b.Util.browser.isVisible()||a.forceView||(b.Util.debug("Interval poll detected that browser is not focused."),a._onBlur())}catch(k){b.Util.error("Error trying to evaluate interval threshold check",k.stack)}}a.intervalCheck.previousTimeStamp=
c})};a.prototype._reset=function(){this.activeView=this.loaded=!1;this.views=0;this.timer&&this.timer.stop();this.monitor&&this.monitor.stop(!0);b.Util.debug("DCR Reset")};a.prototype._setOptionParams=function(a){a||(a={});a.optout=this._optOut;return a};a.prototype._generatePingUrl=function(a,d,f){var c=[this._domain];this._endpoint||(this._endpoint=b.Util.endpoint.generate(b.Config.endpoints.staticPing,this._args,this._urlEncodeLevel));f||(f={});f.cln=d;f.cvw=a;f=this._setOptionParams(f);a=b.Util.endpoint.evalDynamicParams(this._endpoint,
b.Config.endpoints.staticPing,f,this._urlEncodeLevel);c.push(a);return c.join("")};a.prototype._maskedPing=function(a){try{a&&(this._messageFrame.ready?(this._messageFrame.handle.sendMessage("maskref",{url:a}),b.Util.debug("DCR masked ping fired ",a)):this._messageFrame.queue.push(a))}catch(e){b.Util.debug("DCR error trying to fire masked ping for: "+a,e.message)}};a.prototype._firePing=function(a,d,f){try{if(b&&b.Request){var c=this._durationEnabled?Math.round(this.monitor.read(a)):0;if(c&&0<c||
0<this.views){c>(this._reportInterval+b.Config.durationThreshold)/1E3&&(c=(this._reportInterval+b.Config.durationThreshold)/1E3,b.Util.debug("Duration threshold reached, defaulting to threshold duration based on the cadence:",c));var e=this._generatePingUrl(this.views,c,d);this._maskPing?this._maskedPing(e):f?(b.Request.sendBeacon(e),b.Util.debug("DCR beacon fired ",e)):(b.Request.ping(e),b.Util.debug("DCR ping fired ",e));this.views=0}}else b.Util.error("Request module not loaded")}catch(l){b.Util.debug("Error: Unable to fire ping",
l.message)}};a.prototype._checkLoaded=function(a){!this.loaded&&this.activeView&&(b.Util.debug("DCR loading and firing V ping"),this._firePing(a,{at:"view",cr:"V"},!1),this.loaded=!0,this.timer.start())};a.prototype.load=function(a,d){this.views=a;(a=b&&b.Util?b.Util.browser:null)?(this.activeView=a.hasFocus?a.hasFocus()&&a.isVisible():!0,a.addEventListener({element:window,eventType:"blur",func:this._onBlur,useCapture:!1}),a.addEventListener({element:window,eventType:"focus",func:this._onFocus,useCapture:!1}),
a.addEventListener({element:window,eventType:"beforeunload",func:this._onUnload,useCapture:!1}),a.addEventListener({element:window,eventType:"pagehide",func:this._onUnload,useCapture:!1}),a.addEventListener({element:window,eventType:"pageshow",func:this._onPageShow,useCapture:!1})):"undefined"!==typeof console&&console&&console.warn&&console.warn("SDK Common module not loaded");try{document.addEventListener&&(document.addEventListener("visibilitychange",this._onVisibilityChanged),document.addEventListener("webkitvisibilitychange",
this._onVisibilityChanged),document.addEventListener("msvisibilitychange",this._onVisibilityChanged),document.addEventListener("mozvisibilitychange",this._onVisibilityChanged))}catch(f){}this.forceView=d;b.Util.debug("Active view is ",this.activeView);b.Util.debug("Forced view is ",d);(this.activeView||d)&&this._onFocus();this.intervalCheck.timer.start()};d.DCR=a})(g)}catch(d){b.Util.error("Error loading NOLLite modules",d)}return g}(window.NOLLite.Common,window.NOLLite.Models);
(function(b,h,g,d){try{if(!b._instance){var a=function(a){this.initialized=!1;this.args=a;this.DCR=new d.DCR(a)};a.prototype.initialize=function(a){this.initialized||(this.DCR.load(1,a||!1),this.initialized=!0)};var c={initialize:function(c,d){b._instance||(b._instance=new a(c),b._instance.initialize(d))},findScript:function(){var a=document.getElementsByTagName("script");if(a)for(var b,c,d=new RegExp(h.Config.scriptName+"(..*?)*?.js"),e=a.length;e--;)if(c=(b=a[e])&&b.attributes&&b.attributes.src?
b.attributes.src.value:"",b=c.match(d))return c;return""}},e=c.findScript().replace(/^[^\#]+\#?/,""),f=h.Util.parseNOLParams(e);if(f){g=!0;var m=h.Config.requiredParams;e=null;for(var k=m.length;k--;)if(e=f[m[k]],void 0===e||null===e){g=!1;h.Util.error(m[k]+" is a required parameter. Please verify that the parameter is included in the script tag and that the src meets HTTP script tag standards.");break}g?"1"==f.nol_forceview?(h.Util.debug("Initializing with forced view"),c.initialize(f,!0)):h.Util.browser.ready(function(){c.initialize(f,
!1)}):h.Util.error("The DCRLite script tag definition or parameters are invalid. Please supply the required parameters and follow HTTP script tag standards.")}}}catch(l){h.Util.error("Error loading NOLLite core",l)}return b})(window.NOLLite,window.NOLLite.Common,window.NOLLite.Models,window.NOLLite.Modules);
}).call(this)
