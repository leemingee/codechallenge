webpackJsonp([21],{177:function(t,exports,e){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stickyRailInstance=void 0;var s=i(e(2)),o=i(e(1)),h=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),n=function(t){this.bottomContentLeft=0,this.offsetItems=0,this.offsetHeight=0,this.positionWindow=0,this.railTop=0,this.flip=0,t=t||{};var e=o.extend({$lastItem:(0,h.default)(".last-rail-section"),$contentLeft:(0,h.default)("#content-left"),$contentRight:(0,h.default)("#content-right"),offsetFunction:function(){return(0,h.default)("header.thrillist-header").height()}},t);return this.$lastItem=e.$lastItem,this.lastItemHeight=this.$lastItem.height(),this.$contentLeft=e.$contentLeft,this.$contentRight=e.$contentRight,this.bottomContentRight=this.$lastItem.offset().top,this.offsetItems=e.offsetItems,this.offsetFunction=e.offsetFunction,this.makeFixed=h.default.proxy(this.makeFixed,this),this.makeNotFixed=h.default.proxy(this.makeNotFixed,this),this.updateOffset=h.default.proxy(this.updateOffset,this),this.flipMonitor=h.default.proxy(this.flipMonitor,this),this.$contentLeft.height()>this.$contentRight.height()&&(this.$lastItem.addClass("top-rail"),this.makeFixed(),this.makeNotFixed()),this};n.prototype=o.extend(n.prototype,{makeFixed:function(){var t=this;t.positionWindow=s.$window.scrollTop()+t.offsetHeight,t.railTop=t.$lastItem.offset().top,t.flip=!1,t.lastItemHeight=t.$lastItem.height(),t.$lastItem.hasClass("detached-rail")&&t.positionWindow<t.railTop?(t.$lastItem.css({top:t.offsetHeight}).removeClass("detached-rail"),t.flip=!0):t.$lastItem.hasClass("top-rail")&&t.positionWindow>t.railTop&&(t.$lastItem.css({top:t.offsetHeight}).removeClass("top-rail"),t.flip=!0),t.flip&&(t.$lastItem.addClass("sticky-rail-section"),t.bottomContentRight=t.$contentRight.offset().top+t.$contentRight.height(),t.bottomContentLeft=t.$contentLeft.offset().top+t.$contentLeft.height(),t.flipMonitor(t.makeNotFixed))},updateOffset:function(){this.lastItemHeight=this.$lastItem.height(),this.$lastItem.css({top:this.$contentLeft.height()-this.lastItemHeight})},makeNotFixed:function(){if(this.offsetHeight=this.offsetFunction(),this.$lastItem.css({top:this.offsetHeight}),this.positionWindow=s.$window.scrollTop()+this.offsetHeight,this.flip=!1,this.lastItemHeight=this.$lastItem.height(),this.bottomContentRight>this.positionWindow)this.$lastItem.removeClass("sticky-rail-section").addClass("top-rail"),this.flip=!0;else if(this.bottomContentLeft-this.positionWindow<this.lastItemHeight){var t=(0,h.default)("#content-left"),e=t.offset().top+t.outerHeight(),i=this.$contentRight.offset().top,o=e-this.lastItemHeight-i;this.$lastItem.removeClass("sticky-rail-section").addClass("detached-rail").css({top:o}),this.flip=!0}this.flip&&this.flipMonitor(this.makeFixed)},flipMonitor:function(t){s.$window.off("scroll.rr").on("scroll.rr",o.throttle(t,20))}}),exports.stickyRailInstance=n}});